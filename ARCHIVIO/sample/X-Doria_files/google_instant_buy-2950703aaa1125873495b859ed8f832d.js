(function(){var t,e,l=function(t,e){return function(){return t.apply(e,arguments)}};window.GoogleWalletButton=function(){var l;return l=document.getElementsByClassName("google-wallet-button-holder"),0!==l.length?(e(function(){var e,o,n;for(o=0,n=l.length;n>o;o++)e=l[o],e.getAttribute("data-google-wallet-setup")||(e.setAttribute("data-google-wallet-setup","y"),new t(e))}),!0):void 0},e=function(t){var e,l,o;return e=document.getElementsByClassName("google-wallet-script")[0],(o=e.getAttribute("data-gw-src"))?(e.removeAttribute("data-gw-src"),l=document.createElement("script"),l.async=!0,l.onload=t,l.src=o,void document.getElementsByTagName("head")[0].appendChild(l)):void(this.google&&t())},t=function(){function t(t){this.failureCallback=l(this.failureCallback,this),this.buttonReady=l(this.buttonReady,this),this.requestMaskedWalletSuccessCallback=l(this.requestMaskedWalletSuccessCallback,this),this.buttonHolder=t,this.clientId=t.getAttribute("data-google-wallet-client-id"),this.requestMaskedWalletJwt=t.getAttribute("data-google-wallet-button"),this.authorizeWallet(),this.createWalletButton()}return t.name="GoogleInstantBuy",t.prototype.removeButton=function(){return this.buttonHolder.style="display: none"},t.prototype.redirectToCheckoutCreation=function(t){var e;if(!this.redirecting)return this.redirecting=!0,e=document.createElement("input"),e.type="hidden",e.name="google_wallet_jwt",e.value=t,this.buttonHolder.parentElement.appendChild(e),e.form.submit()},t.prototype.requestMaskedWalletSuccessCallback=function(t){return t.error?void 0:this.redirectToCheckoutCreation(t.jwt)},t.prototype.authorizeWallet=function(){return this.clientId?google.wallet.online.authorize({clientId:this.clientId,callback:function(){}}):void 0},t.prototype.buttonReady=function(t){return"SUCCESS"===t.status?this.buttonHolder.appendChild(t.walletButtonElement):void 0},t.prototype.createWalletButton=function(){return google.wallet.online.createWalletButton({jwt:this.requestMaskedWalletJwt,success:this.requestMaskedWalletSuccessCallback,failure:this.failureCallback,ready:this.buttonReady})},t.prototype.failureCallback=function(t){return"BUYER_CANCELLED"!==(null!=t?t.error:void 0)?this.removeButton():void 0},t}()}).call(this);